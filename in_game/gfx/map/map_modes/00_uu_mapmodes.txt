terrain = {	#UU This is unchanged from vanilla. This has only been added here to force it to the left hand side of the mapmodes so it is always the first one. 
	color_mode = political
	small_map_names = location
	medium_map_names = country
	large_map_names = overlord

	small_tooltip_context = location
	medium_tooltip_context = location
	large_tooltip_context = country

	fill_in_impassable = yes
	enable_snow = yes
	quick_action_slot = 0
	enable_rivers = yes
	

	pinned_by_default = yes
	category = government
	index = 0

	map_markers = {
		market_marker = no
		fort_marker = no
		toll_marker = no
	}
	
	enable_water_names = yes
	
	gradient_parameters = {
		zoom_step = 0

		gradient_alpha_inside = 	0
		gradient_alpha_outside = 	0
		gradient_width = 			0.1
		gradient_color_mult =		@hollow_near_gradient_color_mult
		edge_width = 				0
		edge_sharpness = 			@hollow_near_edge_sharpness
		edge_alpha = 				0
		edge_color_mult = 			@hollow_near_edge_color_mult
		before_lighting_blend =		0
		after_lighting_blend =		0
	}
	
	gradient_parameters = {
		zoom_step = 4

		gradient_alpha_inside = 	0.0
		gradient_alpha_outside = 	0.3
		gradient_width = 			0.05
		gradient_color_mult =		0.5
		edge_width = 				0.03
		edge_sharpness = 			@hollow_mid_edge_sharpness
		edge_alpha = 				0.4
		edge_color_mult = 			0.5
		before_lighting_blend =		1
		after_lighting_blend =		0
	}
	gradient_parameters = {
		zoom_step = 9

		gradient_alpha_inside = 	1
		gradient_alpha_outside = 	1
		gradient_width = 			0.125
		gradient_color_mult =		0.5
		edge_width = 				0.03
		edge_sharpness = 			@hollow_mid_edge_sharpness
		edge_alpha = 				1
		edge_color_mult = 			0.3
		before_lighting_blend =		1
		after_lighting_blend =		0.5
	}
	gradient_parameters = {
		zoom_step = 11
		gradient_alpha_inside = 	1
		gradient_alpha_outside = 	1
		gradient_width = 			1
		gradient_color_mult =		0.4
		edge_width = 				0.03
		edge_sharpness = 			@hollow_mid_edge_sharpness
		edge_alpha = 				1
		edge_color_mult = 			0.3
		before_lighting_blend =		1
		after_lighting_blend =		0.5
	}
	flatmap_gradient_parameters = {
		zoom_step = @zoom_step_flatmap

		gradient_alpha_inside = 	@flatmap_gradient_alpha_inside
		gradient_alpha_outside = 	@flatmap_gradient_alpha_outside
		gradient_width = 			@flatmap_gradient_width
		gradient_color_mult =		@flatmap_gradient_color_mult
		edge_width = 				@flatmap_edge_width
		edge_sharpness = 			@flatmap_edge_sharpness
		edge_alpha = 				@flatmap_edge_alpha
		edge_color_mult = 			@flatmap_edge_color_mult
		before_lighting_blend =		@flatmap_before_lighting_blend
		after_lighting_blend =		@flatmap_after_lighting_blend
	}
	flatmap_gradient_parameters = {
		zoom_step = @zoom_step_flatmap_far

		gradient_alpha_inside = 	@flatmap_far_gradient_alpha_inside
		gradient_alpha_outside = 	@flatmap_far_gradient_alpha_outside
		gradient_width = 			@flatmap_far_gradient_width 
		gradient_color_mult =		@flatmap_far_gradient_color_mult 
		edge_width = 				@flatmap_far_edge_width 		
		edge_sharpness = 			@flatmap_far_edge_sharpness 	
		edge_alpha = 				@flatmap_far_edge_alpha 	
		edge_color_mult = 			@flatmap_far_edge_color_mult 
		before_lighting_blend =		@flatmap_far_before_lighting_blend 
		after_lighting_blend =		@flatmap_far_after_lighting_blend 
	}

	color_refresh_counters = { LocationControllerChanged }
	color_and_names_refresh_counters = { LocationOwnerChanged CountryStatus }
}

roads = {
	color_mode = roads
	small_map_names = location
	medium_map_names = country
	large_map_names = country

	small_tooltip_context = location
	medium_tooltip_context = location
	large_tooltip_context = location

	fill_in_impassable = no
	flatmap_behaviour = Always
	use_fow = no
	enable_rivers = yes	#UU

	category = economy
	index = 2

	map_markers = {
		market_marker = no
		fort_marker = no
		toll_marker = no
	}
	
	gradient_parameters = {
		zoom_step = @zoom_step_near

		gradient_alpha_inside = 	@data_gradient_alpha_inside
		gradient_alpha_outside = 	@data_gradient_alpha_outside
		gradient_width = 			0.333
		gradient_color_mult =		@data_gradient_color_mult
		edge_width = 				@data_edge_width
		edge_sharpness = 			@data_edge_sharpness
		edge_alpha = 				@data_edge_alpha
		edge_color_mult = 			@data_edge_color_mult
		before_lighting_blend =		@data_before_lighting_blend
		after_lighting_blend =		@data_after_lighting_blend
	}
	shader_id = 1
	
	refresh_colors_on_selection_change = yes
	color_refresh_counters = { LocationRoadsChanged }
	color_and_names_refresh_counters = { Month }
}

road_builder = {
	color_mode = road_builder
	small_map_names = location
	medium_map_names = location
	large_map_names = location

	small_tooltip_context = location
	medium_tooltip_context = location
	large_tooltip_context = location

	fill_in_impassable = no
	enable_rivers = yes			#UU
	allow_allocate_hotkey = no
	flatmap_behaviour = Always
	use_fow = no

	category = hidden

	map_markers = {
		market_marker = no
		fort_marker = no
		toll_marker = no
	}
	
	gradient_parameters = {
		zoom_step = @zoom_step_near

		gradient_alpha_inside = 	@data_gradient_alpha_inside
		gradient_alpha_outside = 	@data_gradient_alpha_outside
		gradient_width = 			0.333
		gradient_color_mult =		@data_gradient_color_mult
		edge_width = 				@data_edge_width
		edge_sharpness = 			@data_edge_sharpness
		edge_alpha = 				@data_edge_alpha
		edge_color_mult = 			@data_edge_color_mult
		before_lighting_blend =		@data_before_lighting_blend
		after_lighting_blend =		@data_after_lighting_blend
	}
	
	shader_id = 1

	color_and_names_refresh_counters = { ProductionList }
}

uncontrolled_tax_base = {						#New tax base mapmodes, by sebast28
	map_color = {
		if = {
			limit = {
				is_land = no
			}
			value = define:NMapColors|WATER_MAP_COLOR
		}
		else_if = {
			limit = {
				local_control = 0
			}
			value = define:NMapColors|DEFAULT_COLOR
		}
		else_if = {
			limit = {
				ntbmm_uncontrolled_tax_base < 10
			}
			lerp = {
				min_color = define:NMapColors|MAP_COLOR_MIN
				max_color = define:NMapColors|MAP_COLOR_LOW
				factor = {
					value = ntbmm_uncontrolled_tax_base
					divide = 10
				}
			}
		}
		else_if = {
			limit = {
				ntbmm_uncontrolled_tax_base < 30
			}
			lerp = {
				min_color = define:NMapColors|MAP_COLOR_LOW
				max_color = define:NMapColors|MAP_COLOR_MID
				factor = {
					value = ntbmm_uncontrolled_tax_base
					subtract = 10
					divide = 20
				}
			}
		}
		else_if = {
			limit = {
				ntbmm_uncontrolled_tax_base < 60
			}
			lerp = {
				min_color = define:NMapColors|MAP_COLOR_MID
				max_color = define:NMapColors|MAP_COLOR_HIGH
				factor = {
					value = ntbmm_uncontrolled_tax_base
					subtract = 30
					divide = 30
				}
			}
		}
		else_if = {
			limit = {
				ntbmm_uncontrolled_tax_base < 100
			}
			lerp = {
				min_color = define:NMapColors|MAP_COLOR_HIGH
				max_color = define:NMapColors|MAP_COLOR_MAX
				factor = {
					value = ntbmm_uncontrolled_tax_base
					subtract = 60
					divide = 40
				}
			}
		}
		else = {
			lerp = {
				min_color = define:NMapColors|MAP_COLOR_MAX
				max_color = define:NMapColors|MAP_COLOR_TOP
				factor = {
					value = ntbmm_uncontrolled_tax_base
					subtract = 100
					divide = 50
				}
			}
		}
	}

	tooltip_key = {
		if = {
			limit = {
				is_land = no
			}
			value = NO_UNCONTROLLED_TAX_BASE_MAPMODE_TT
		}
		else = {
			value = UNCONTROLLED_TAX_BASE_MAPMODE_TT
		}
	}

	small_map_names = location
	medium_map_names = country
	large_map_names = country

	small_tooltip_context = location
	medium_tooltip_context = location
	large_tooltip_context = country

	flatmap_behaviour = Always
	use_fow = no

	category = economy
	index = 0

	map_markers = {
		market_marker = no
		fort_marker = no
		toll_marker = no
	}
	
	gradient_parameters = {
		zoom_step = @zoom_step_near

		gradient_alpha_inside = 	@data_gradient_alpha_inside
		gradient_alpha_outside = 	@data_gradient_alpha_outside
		gradient_width = 			@data_gradient_width
		gradient_color_mult =		@data_gradient_color_mult
		edge_width = 				@data_edge_width
		edge_sharpness = 			@data_edge_sharpness
		edge_alpha = 				@data_edge_alpha
		edge_color_mult = 			@data_edge_color_mult
		before_lighting_blend =		@data_before_lighting_blend
		after_lighting_blend =		@data_after_lighting_blend
	}
	
	color_refresh_counters = { LocationTaxBaseChanged }
	color_and_names_refresh_counters = { LocationOwnerChanged CountryStatus }
}
