
###############################################
# Rivers in Roads map modes, created by GDI_JeffL
###############################################
###############################
# Enable roads/rivers in any map mode:
# gradient_width = 0.111   # Rivers only
# gradient_width = 0.222   # Roads only
# gradient_width = 0.333   # Roads + Rivers
###############################
# Instructions: Scroll down past the parameter defaults to the MAP MODES section
###############################################
# PARAMETER DEFAULTS
###############################################
@zoom_step_flatmap_far = 21# the furthest zoom out
@zoom_step_flatmap = 12# zoom step where the paper map kicks in
@zoom_step_far = 11# furthest zoom before the paper map
@zoom_step_mid = 4# intorduce some color
@zoom_step_near = 2# closest zoom
# Zoomed in terrain map
@hollow_near_gradient_alpha_inside = 0
@hollow_near_gradient_alpha_outside = 0
@hollow_near_gradient_width = 0
@hollow_near_gradient_color_mult = 0.25
@hollow_near_edge_width = 0
@hollow_near_edge_sharpness = 0
@hollow_near_edge_alpha = 0.5
@hollow_near_edge_color_mult = 0.7
@hollow_near_before_lighting_blend = 0.5
@hollow_near_after_lighting_blend = 0
# Mid zoom terrain map
@hollow_mid_gradient_alpha_inside = 0
@hollow_mid_gradient_alpha_outside = 0.25
@hollow_mid_gradient_width = 0.1
@hollow_mid_gradient_color_mult = @hollow_near_gradient_color_mult
@hollow_mid_edge_width = 0
@hollow_mid_edge_sharpness = @hollow_near_edge_sharpness
@hollow_mid_edge_alpha = @hollow_near_edge_alpha
@hollow_mid_edge_color_mult = @hollow_near_edge_color_mult
@hollow_mid_before_lighting_blend = @hollow_near_before_lighting_blend
@hollow_mid_after_lighting_blend = @hollow_near_after_lighting_blend
# Zoomed out terrain map
@hollow_far_gradient_alpha_inside = 0.25
@hollow_far_gradient_alpha_outside = 1
@hollow_far_gradient_width = 0.25
@hollow_far_gradient_color_mult = @hollow_mid_gradient_color_mult
@hollow_far_edge_width = 0
@hollow_far_edge_sharpness = @hollow_mid_edge_sharpness
@hollow_far_edge_alpha = 0
@hollow_far_edge_color_mult = @hollow_mid_edge_color_mult
@hollow_far_before_lighting_blend = @hollow_mid_before_lighting_blend
@hollow_far_after_lighting_blend = @hollow_mid_after_lighting_blend
# Paper map
@flatmap_gradient_alpha_inside = 0.75
@flatmap_gradient_alpha_outside = 1
@flatmap_gradient_width = 0.25
@flatmap_gradient_color_mult = 0.9
@flatmap_edge_width = 0.03
@flatmap_edge_sharpness = 0.01
@flatmap_edge_alpha = 1
@flatmap_edge_color_mult = @hollow_near_edge_color_mult
@flatmap_before_lighting_blend = 0.5
@flatmap_after_lighting_blend = 0.5
# Paper map (far out)
@flatmap_far_gradient_alpha_inside = @flatmap_gradient_alpha_inside
@flatmap_far_gradient_alpha_outside = @flatmap_gradient_alpha_outside
@flatmap_far_gradient_width = @[flatmap_edge_color_mult*1.25]
@flatmap_far_gradient_color_mult = @flatmap_gradient_color_mult
@flatmap_far_edge_width = @[flatmap_edge_width*1.5]
@flatmap_far_edge_sharpness = @flatmap_edge_sharpness
@flatmap_far_edge_alpha = @flatmap_edge_alpha
@flatmap_far_edge_color_mult = @flatmap_edge_color_mult
@flatmap_far_before_lighting_blend = @flatmap_before_lighting_blend
@flatmap_far_after_lighting_blend = @flatmap_after_lighting_blend
# Zoomed out political map
@filled_far_gradient_alpha_inside = 1
@filled_far_gradient_alpha_outside = 1
@filled_far_gradient_width = 1
@filled_far_gradient_color_mult = 0.4
@filled_far_edge_width = 0.03
@filled_far_edge_sharpness = @hollow_mid_edge_sharpness
@filled_far_edge_alpha = 1
@filled_far_edge_color_mult = 0.3
@filled_far_before_lighting_blend = 1
@filled_far_after_lighting_blend = 0.5
# Zoomed in political map
@filled_near_gradient_alpha_inside = 1
@filled_near_gradient_alpha_outside = 1
@filled_near_gradient_width = 1
@filled_near_gradient_color_mult = 0.4
@filled_near_edge_width = 0.03
@filled_near_edge_sharpness = @hollow_mid_edge_sharpness
@filled_near_edge_alpha = 1
@filled_near_edge_color_mult = 0.3
@filled_near_before_lighting_blend = 1
@filled_near_after_lighting_blend = 0.25
# Map mode that works well with data and heatmaps
@data_gradient_alpha_inside = 1
@data_gradient_alpha_outside = 1
@data_gradient_width = @flatmap_far_gradient_width
@data_gradient_color_mult = @flatmap_far_gradient_color_mult
@data_edge_width = 0
@data_edge_sharpness = @flatmap_far_edge_sharpness
@data_edge_alpha = 0
@data_edge_color_mult = 0
@data_before_lighting_blend = @flatmap_far_before_lighting_blend
@data_after_lighting_blend = @flatmap_far_after_lighting_blend
###############################################
# MAP MODES
###############################################
### HOW TO ADD A NEW MAP MODE:
# 1. Copy the desired map mode from:
#    steamapps\common\Europa Universalis V\game\in_game\gfx\map\map_modes\map_modes.txt
# 2. Paste it below this block
# 3. Change gradient_width in every gradient_parameters block to:
#    - 0.111 for rivers only
#    - 0.222 for roads only
#    - 0.333 for roads + rivers
# 4. Add or keep "enable_rivers = yes" in the map mode block


terrain = {	#UU This is unchanged from vanilla. This has only been added here to force it to the left hand side of the mapmodes so it is always the first one. 
	color_mode = political
	small_map_names = location
	medium_map_names = country
	large_map_names = overlord

	small_tooltip_context = location
	medium_tooltip_context = location
	large_tooltip_context = country

	fill_in_impassable = yes
	enable_snow = yes
	quick_action_slot = 0
	enable_rivers = yes
	

	pinned_by_default = yes
	category = government
	index = 0

	map_markers = {
		market_marker = no
		fort_marker = no
		toll_marker = no
	}
	
	enable_water_names = yes
	
	gradient_parameters = {
		zoom_step = 0

		gradient_alpha_inside = 	0
		gradient_alpha_outside = 	0
		gradient_width = 			0.1
		gradient_color_mult =		@hollow_near_gradient_color_mult
		edge_width = 				0
		edge_sharpness = 			@hollow_near_edge_sharpness
		edge_alpha = 				0
		edge_color_mult = 			@hollow_near_edge_color_mult
		before_lighting_blend =		0
		after_lighting_blend =		0
	}
	
	gradient_parameters = {
		zoom_step = 4

		gradient_alpha_inside = 	0.0
		gradient_alpha_outside = 	0.3
		gradient_width = 			0.05
		gradient_color_mult =		0.5
		edge_width = 				0.03
		edge_sharpness = 			@hollow_mid_edge_sharpness
		edge_alpha = 				0.4
		edge_color_mult = 			0.5
		before_lighting_blend =		1
		after_lighting_blend =		0
	}
	gradient_parameters = {
		zoom_step = 9

		gradient_alpha_inside = 	1
		gradient_alpha_outside = 	1
		gradient_width = 			0.125
		gradient_color_mult =		0.5
		edge_width = 				0.03
		edge_sharpness = 			@hollow_mid_edge_sharpness
		edge_alpha = 				1
		edge_color_mult = 			0.3
		before_lighting_blend =		1
		after_lighting_blend =		0.5
	}
	gradient_parameters = {
		zoom_step = 11
		gradient_alpha_inside = 	1
		gradient_alpha_outside = 	1
		gradient_width = 			1
		gradient_color_mult =		0.4
		edge_width = 				0.03
		edge_sharpness = 			@hollow_mid_edge_sharpness
		edge_alpha = 				1
		edge_color_mult = 			0.3
		before_lighting_blend =		1
		after_lighting_blend =		0.5
	}
	flatmap_gradient_parameters = {
		zoom_step = @zoom_step_flatmap

		gradient_alpha_inside = 	@flatmap_gradient_alpha_inside
		gradient_alpha_outside = 	@flatmap_gradient_alpha_outside
		gradient_width = 			@flatmap_gradient_width
		gradient_color_mult =		@flatmap_gradient_color_mult
		edge_width = 				@flatmap_edge_width
		edge_sharpness = 			@flatmap_edge_sharpness
		edge_alpha = 				@flatmap_edge_alpha
		edge_color_mult = 			@flatmap_edge_color_mult
		before_lighting_blend =		@flatmap_before_lighting_blend
		after_lighting_blend =		@flatmap_after_lighting_blend
	}
	flatmap_gradient_parameters = {
		zoom_step = @zoom_step_flatmap_far

		gradient_alpha_inside = 	@flatmap_far_gradient_alpha_inside
		gradient_alpha_outside = 	@flatmap_far_gradient_alpha_outside
		gradient_width = 			@flatmap_far_gradient_width 
		gradient_color_mult =		@flatmap_far_gradient_color_mult 
		edge_width = 				@flatmap_far_edge_width 		
		edge_sharpness = 			@flatmap_far_edge_sharpness 	
		edge_alpha = 				@flatmap_far_edge_alpha 	
		edge_color_mult = 			@flatmap_far_edge_color_mult 
		before_lighting_blend =		@flatmap_far_before_lighting_blend 
		after_lighting_blend =		@flatmap_far_after_lighting_blend 
	}

	color_refresh_counters = { LocationControllerChanged }
	color_and_names_refresh_counters = { LocationOwnerChanged CountryStatus }
}

roads = {
	color_mode = roads
	small_map_names = location
	medium_map_names = country
	large_map_names = country
	small_tooltip_context = location
	medium_tooltip_context = location
	large_tooltip_context = location
	fill_in_impassable = no
	flatmap_behaviour = Always
	use_fow = no
	enable_rivers = yes
	category = economy
	index = 2
	map_markers = {
		market_marker = no
		fort_marker = no
		toll_marker = no
	}
	gradient_parameters = {
		zoom_step = @zoom_step_near
		gradient_alpha_inside = @data_gradient_alpha_inside
		gradient_alpha_outside = @data_gradient_alpha_outside
		gradient_width = 0.333
		gradient_color_mult = @data_gradient_color_mult
		edge_width = @data_edge_width
		edge_sharpness = @data_edge_sharpness
		edge_alpha = @data_edge_alpha
		edge_color_mult = @data_edge_color_mult
		before_lighting_blend = @data_before_lighting_blend
		after_lighting_blend = @data_after_lighting_blend
	}
	refresh_colors_on_selection_change = yes
	color_refresh_counters = {
		LocationRoadsChanged
	}
	color_and_names_refresh_counters = {
		Month
	}
}

road_builder = {
	color_mode = road_builder
	small_map_names = location
	medium_map_names = location
	large_map_names = location
	small_tooltip_context = location
	medium_tooltip_context = location
	large_tooltip_context = location
	fill_in_impassable = no
	enable_rivers = yes
	allow_allocate_hotkey = no
	flatmap_behaviour = Always
	use_fow = no
	category = hidden
	map_markers = {
		market_marker = no
		fort_marker = no
		toll_marker = no
	}
	gradient_parameters = {
		zoom_step = @zoom_step_near
		gradient_alpha_inside = @data_gradient_alpha_inside
		gradient_alpha_outside = @data_gradient_alpha_outside
		gradient_width = 0.333
		gradient_color_mult = @data_gradient_color_mult
		edge_width = @data_edge_width
		edge_sharpness = @data_edge_sharpness
		edge_alpha = @data_edge_alpha
		edge_color_mult = @data_edge_color_mult
		before_lighting_blend = @data_before_lighting_blend
		after_lighting_blend = @data_after_lighting_blend
	}
	color_and_names_refresh_counters = {
		ProductionList
	}
}
